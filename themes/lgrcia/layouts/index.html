{{ define "main" }}
<!-- <div style="display: flex; z-index: -1; position: relative; top:3rem; left:40%" ;>
  <div class="rect">
    <div class="short index-h2">to understand both of them</br>and help finding life ...</div>
    <img src="{{.Site.BaseURL}}/images/index-transit.png" width="500px">
  </div>
</div> -->
<div id="banner" class="top-margin" style="display: flex; overflow: hidden; flex-direction: column; height:100%;">
  <div id="sentence" style="flex-grow: 2; margin-right:1rem; text-align: center;">
    <h1>I look at planets around</br>small and cool stars</h1>
    <div class="short index-h2" style="color: gray; font-family: var(--font-primary) !important;">in the search for life</div>
  </div>
  <div id="video" style="z-index: -1; position: relative;flex-grow: 1;flex-shrink: 3; filter:grayscale(100%) constrast(120%);">
    <!-- <img src="{{.Site.BaseURL}}/images/portrait.jpg" width="250px"> -->
    <div id="star" style="opacity:0; overflow:hidden;position: relative;width: 100%">
      <div id="planet" style="display:none;position: relative; right: -1000px">
        <div
          style="position: relative; background-color:black; width:100%; height:100%; border-radius: 50%;filter: blur(1px);margin-left:5px; margin-top:-35px;">
        </div>
      </div>
      <video src="{{.Site.BaseURL}}/images/sun.mp4" autoplay muted loop playsinline
        oncanplay="planet.style.display = 'block'; star.style.opacity = 1" style="width:100%" alt=""
        onclick=""></video>
      <script>
        let DH = 280
        let banner = document.getElementById("banner");
        let sentence = document.getElementById("sentence");
        let video = document.getElementById("video");
        let star = document.getElementById("star");
        let planet = document.getElementById("planet");
        console.log(banner.getBoundingClientRect().top)
        let video_height = 0
        let p = 0
        resize_banner = () => {
          banner.style.height = innerHeight - banner.getBoundingClientRect().top - 80 + "px"
          video_height = banner.clientHeight - sentence.clientHeight
        }
        move_planet = (e) => {
          var x = e.pageX;
          var y = e.pageY;
          var dx = x - (innerWidth / 2)
          planet.style.left = 1.2 * dx * (banner.clientWidth) / innerWidth + banner.clientWidth / 2 + "px";
          planet.style.top = 0.3*banner.clientWidth + "px"
          p = 0.035*banner.clientWidth
          planet.style.height = p + "px"
          planet.style.width = p + "px"
          console.log(planet.style.width)
        }
        resize_banner()
        let x0 = video.getBoundingClientRect().left;
        addEventListener('mousemove', (e) => { move_planet(e) });
        addEventListener('touchmove', (e) => { move_planet(e.changedTouches[0]); console.log(e.changedTouches[0]) });
        addEventListener('resize', (event) => {
          resize_banner()
        });
      </script>
    </div>
  </div>
</div>
<div style="margin-top:0.5rem; text-align: right; color:grey; font-family: var(--font-primary); font-size: 0.9rem;">But
  this is <a href="https://sdo.gsfc.nasa.gov/" style="text-decoration: underline;" target="_blank">the sun</a>...</div>

{{ partial "footer.html" . }}
{{ end }}